<script src='http://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js' type='text/javascript'></script>
<script src='http://static.tonytuan.org/prettyprint/prettify.js' type='text/javascript'></script>
<link href='http://static.tonytuan.org/prettyprint/style.css' media='all' rel='stylesheet'/>



<script>


(function($) {
  $.fn.replaceTagName = function(replaceWith) {
    var tags = [],
    i    = this.length;
    while (i--) {
      var newElement = document.createElement(replaceWith),
      thisi      = this[i],
      thisia     = thisi.attributes;
      for (var a = thisia.length - 1; a >= 0; a--) {
        var attrib = thisia[a];
        newElement.setAttribute(attrib.name, attrib.value);
      };
      newElement.innerHTML = thisi.innerHTML;
      $(thisi).after(newElement).remove();
      tags[i - 1] = newElement;
    }
    return $(tags);
  };
})(window.jQuery);




$(function() {

  var highlights = $('code').attr('lines');
  highlights = highlights.replace(/\s/g, "");
  highlights = highlights.split(',');
  console.log('highlights',highlights);

  $('code').addClass('prettyprint linenums').attr('style', 'overflow:auto'); 

  $('code').replaceTagName('pre');     



  prettyPrint();

  <!--   rm the first empty line -->
  <!-- TODO  rm li with one span child -->
  $('pre li:eq(0)').remove();



  for (var i = highlights.length - 1; i >= 0; i--) {
    $('pre li:nth-child('+highlights[i]+ ')').attr('style', 'background-color:#900;');

    
  }


/*
  lines.each(function(){

//    console.log('this',$( this ));
$( this ).attr('style', 'background-color:#900;');

});  
*/




      //console.log($('pre').get(0).attr('type');
    });

</script>

<body bgcolor="#666">



  <code  lines="1, 2, 5 ,9,11">
    Ext.widget('window', {
    closeOnFocusOut: true,
    title: 'Hello', 


    items: {       
    html: 'hello world'
  }
}).show();
</code>


</body>